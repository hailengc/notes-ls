<html>
  <head>
    <title>Char Counter</title>
    <style>
      .composer {
        background: #f5f5f5;
        padding:  1em;
        width:  30em;
      }

      .composer textarea {
        width: 100%;
        height: 4em;
      }

      .composer textarea.invalid {
        color: red;
      }    
    </style>

    <script>
      document.addEventListener('DOMContentLoaded', function(){
    
        let textarea = document.querySelector('.composer textarea');
        let counter = document.querySelector('.composer p');
        let button = document.querySelector('.composer button');
        
        function updateCounter(e) {
          let reminding = 140 - textarea.value.length;
          counter.textContent = reminding + ' Characters remainding';

          if (reminding < 0) {
            textarea.classList.add('invalid');
            button.setAttribute('disabled');
          } else {
            textarea.classList.toggle('invalid');
            button.removeAttribute('disabled')
          }
        }

        textarea.addEventListener('keyup', updateCounter);

        updateCounter();
      });

    </script>
  </head>
  <body>
    <div class="composer">
      <textarea placeholder="Enter your message"></textarea>
      <p class="counter"></p>
      <button type="submit">Post Message</button>
    </div>    
  </body>
</html>




<!--

document.addEventListener('DOMContentLoaded', function() {
  var composer = document.querySelector('.composer');
  var textarea = composer.querySelector('textarea');
  var counter = composer.querySelector('.counter');
  var button = composer.querySelector('button');
  
  function updateCounter() {
    var length = textarea.value.length;
    var remaining = 140 - length;
    var message = remaining.toString() + ' characters remaining';
    var invalid = remaining < 0;
    
    textarea.classList.toggle('invalid', invalid);
    button.disabled = invalid;

    counter.textContent = message;    
  }
  
  textarea.addEventListener('keyup', updateCounter);
  
  updateCounter();
});

-->